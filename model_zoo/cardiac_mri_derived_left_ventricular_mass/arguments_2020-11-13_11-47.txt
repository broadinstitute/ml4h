
./scripts/tf.sh /home/sam/ml/ml4h/recipes.py --mode train --tensors /mnt/disks/cardiac-tensors-44k/2020-09-21/ --input_tensors sax_all_diastole --output_tensors sax_all_diastole_segmented --u_connect sax_all_diastole sax_all_diastole_segmented --activation mish --conv_layers 32 --conv_x 3 3 3 --conv_y 3 3 3 --conv_z 3 3 3 --dense_blocks 32 32 32 --block_size 3 --bottleneck_type no_bottleneck --pool_x 2 --pool_y 2 --batch_size 2 --epochs 368 --training_steps 128 --validation_steps 32 --test_steps 5 --patience 48 --tensormap_prefix ml4h.tensormap.ukb.mri --id sax_diastole_segment_no_flat --output_folder /home/sam/ml/trained_models/ --inspect_model --test_csv /home/sam/lvh_hold_out.txt
activation = mish
alpha = 0.5
anneal_max = 2.0
anneal_rate = 0.0
anneal_shift = 0.0
app_csv = None
attractor_iterations = 3
b_slice_force = None
balance_csvs = []
batch_size = 2
bigquery_credentials_file = /mnt/ml4cvd/projects/jamesp/bigquery/bigquery-viewer-credentials.json
bigquery_dataset = broad-ml4cvd.ukbb7089_r10data
block_size = 3
bottleneck_type = no_bottleneck
cache_size = 291666666.6666667
categorical_field_ids = []
continuous_field_ids = []
continuous_file = None
continuous_file_column = None
continuous_file_discretization_bounds = []
continuous_file_normalize = False
conv_dilate = False
conv_layers = [32]
conv_normalize = None
conv_regularize = None
conv_regularize_rate = 0.0
conv_type = conv
conv_width = [71]
conv_x = [3, 3, 3]
conv_y = [3, 3, 3]
conv_z = [3, 3, 3]
debug = False
dense_blocks = [32, 32, 32]
dense_layers = [16, 64]
dense_normalize = None
dense_regularize = None
dense_regularize_rate = 0.0
dicom_series = cine_segmented_sax_b6
dicoms = ./dicoms/
eager = False
embed_visualization = None
epochs = 368
explore_export_errors = False
freeze_model_layers = False
hidden_layer = embed
id = sax_diastole_segment_no_flat
imputation_method_for_continuous_fields = random
include_array = False
include_instance = False
include_missing_continuous_channel = False
input_tensors = ['sax_all_diastole']
inspect_model = True
inspect_show_labels = True
join_tensors = ['partners_ecg_patientid_clean']
label_weights = None
language_layer = ecg_rest_text
language_prefix = ukb_ecg_rest
learning_rate = 0.0002
learning_rate_schedule = None
logging_level = INFO
match_any_window = False
max_models = 16
max_parameters = 50000000
max_patients = 999999
max_pools = []
max_sample_id = 7000000
max_samples = None
max_slices = 999999
min_sample_id = 0
min_samples = 3
min_values = 10
mixup_alpha = 0
mlp_concat = False
mode = train
model_file = None
model_files = []
model_layers = None
mri_field_ids = ['20208', '20209']
multimodal_merge = average
num_workers = 12
number_per_window = 1
optimizer = radam
order_in_window = None
output_folder = /home/sam/ml/trained_models/
output_tensors = ['sax_all_diastole_segmented']
padding = same
pair_loss = cosine
pair_loss_weight = 1.0
pairs = None
patience = 48
phecode_definitions = /mnt/ml4cvd/projects/jamesp/data/phecode_definitions1.2.csv
phenos_folder = gs://ml4cvd/phenotypes/
plot_hist = True
plot_mode = clinical
pool_type = max
pool_x = 2
pool_y = 2
pool_z = 1
protected_tensors = []
random_seed = 12878
reference_end_time_tensor = None
reference_join_tensors = None
reference_labels = None
reference_name = Reference
reference_start_time_tensor = None
reference_tensors = None
sample_csv = None
sample_weight = None
save_last_model = False
t = 48
tensor_maps_in = []
tensor_maps_out = []
tensor_maps_protected = []
tensormap_prefix = ml4h.tensormap.ukb.mri
tensors = /mnt/disks/cardiac-tensors-44k/2020-09-21/
tensors_name = Tensors
tensors_source = None
test_csv = /home/sam/lvh_hold_out.txt
test_ratio = 0.1
test_steps = 5
text_file = None
text_one_hot = False
text_window = 32
time_frequency = 3M
time_tensor = partners_ecg_datetime
train_csv = None
training_steps = 128
tsv_style = standard
u_connect = [['sax_all_diastole', 'sax_all_diastole_segmented']]
valid_csv = None
valid_ratio = 0.2
validation_steps = 32
window_name = None
write_pngs = False
x = 256
xml_field_ids = ['20205', '6025']
xml_folder = /mnt/disks/ecg-rest-xml/
y = 256
z = 48
zip_folder = /mnt/disks/sax-mri-zip/
zoom_height = 96
zoom_width = 96
zoom_x = 50
zoom_y = 35
